using System.Threading.Tasks;
using Albatross.CommandLine;

namespace Sample.CommandLine {
	internal class Program {
		static Task<int> Main(string[] args) {
			var setup = new MySetup()
				// this method is generated by source generator
				.AddCommands();
			// this is a custom command added manually
			setup.CommandBuilder.AddWithParentKey("test", new ManualCommand());
			return setup.Parse(args).RegisterServices().Build().InvokeAsync();
		}
	}
}